import{r as m,c as p,o as c,a as i,b as s,F as x,d as k,e as y,f as u,t as d,g as h,w as n,h as C,v as S,n as N,W as $}from"./index-f18457d0.js";const w={class:""},L={class:"md:p-6 p-4"},V=["checked","disabled"],B=["disabled"],I={class:"mb-6 border border-gray-300/100"},O=["value"],D=["onClick"],A={key:0,class:"p-4 text-center"},E={class:"flex justify-between px-3"},F={class:"text-lg text-red-600 ml-2"},J=s("button",{class:"red-button"},"確認送出",-1),T={__name:"TheCart",setup(g){const e=m(JSON.parse(localStorage.getItem("cartList")??"[]")),l=m([]),r=p(()=>l.value.length===e.value.length&&l.value.length!==0),b=p(()=>{let o=0;return e.value.forEach(t=>{o+=Number(t.price)}),o}),v=o=>{o&&(e.value=e.value.filter(t=>t.id!==o)),o||(e.value=e.value.filter(t=>l.value.every(a=>t.id!==a))),localStorage.setItem("cartList",JSON.stringify(e.value)),l.value=[],r.value=!1},f=()=>{const o=e.value.length,t=l.value.length;t===o&&(r.value=!1,l.value=[]),t!==o&&(r.value=!0,l.value=e.value.map(a=>a.id))};return(o,t)=>(c(),i("div",w,[s("div",L,[s("input",{class:"mr-5",type:"checkbox",checked:r.value,disabled:e.value.length===0,onClick:f},null,8,V),s("button",{class:"button p-2 bg-gray-800 hover:bg-gray-900",disabled:l.value.length===0,onClick:t[0]||(t[0]=a=>v())}," 刪除所選商品 ",8,B)]),s("div",I,[(c(!0),i(x,null,k(e.value,a=>(c(),h($,{key:a.id},{select:n(()=>[C(s("input",{class:"md:mr-5 mx-3",type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=_=>l.value=_),value:a.id},null,8,O),[[S,l.value]])]),image:n(()=>[s("div",{class:"image",style:N({backgroundImage:`url(${a.imageUrl})`})},null,4)]),title:n(()=>[u(d(a.title),1)]),price:n(()=>[u("$"+d(a.price),1)]),default:n(()=>[s("button",{class:"hover:text-gray-300 pr-3 md:text-base text-sm",onClick:_=>v(a.id)},"刪除",8,D)]),_:2},1024))),128)),e.value.length?y("",!0):(c(),i("div",A,"目前購物車內沒有商品"))]),s("div",E,[s("p",null,[u(" 總計 "),s("span",F,"$"+d(b.value),1)]),J])]))}},W={__name:"CartView",setup(g){return(e,l)=>(c(),h(T))}};export{W as default};
